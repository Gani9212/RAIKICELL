<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RNV Net Admin</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.0.0/dist/full.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white">

  <!-- Login Page -->
  <div id="loginPage" class="h-screen flex items-center justify-center">
    <div class="bg-gray-800 p-8 rounded-xl shadow-md w-full max-w-sm">
      <h2 class="text-2xl font-bold mb-6 text-center">Login Admin RNV Net</h2>
      <input id="username" type="text" placeholder="Username" class="input input-bordered w-full mb-4">
      <input id="password" type="password" placeholder="Password" class="input input-bordered w-full mb-6">
      <button onclick="login()" class="btn btn-primary w-full">Login</button>
    </div>
  </div>

  <!-- Main Content -->
  <div id="mainContent" class="hidden">
    <div class="navbar bg-gray-800 text-white p-4">
      <div class="text-xl font-bold">RNV Net</div>
      <div class="ml-auto space-x-2">
        <button class="btn" onclick="showTab('dashboard')">Dashboard</button>
        <button class="btn" onclick="showTab('voucher')">Pelanggan Voucher</button>
        <button class="btn" onclick="showTab('pppoe')">Pelanggan PPPoE</button>
        <button class="btn" onclick="showTab('pembayaran')">Pembayaran</button>
        <button class="btn btn-error" onclick="logout()">Logout</button>
      </div>
    </div>

    <!-- Tabs Content -->
    <div class="p-6">
      <!-- Dashboard -->
      <div id="dashboard" class="tab-content">
        <h2 class="text-3xl font-bold mb-4">Selamat Datang di RNV Net</h2>
        <div class="bg-blue-500 rounded-xl p-8 shadow-xl text-center animate-pulse">
          <h3 class="text-2xl">Jaringan Masa Depan</h3>
          <p>Internet cepat, stabil, dan terpercaya untuk semua warga</p>
        </div>
      </div>

      <!-- Pelanggan Voucher -->
      <div id="voucher" class="tab-content hidden">
        <h2 class="text-2xl font-bold mb-4">Data Pelanggan Voucher</h2>
        <form onsubmit="handleVoucherSubmit(event)" class="space-y-2">
          <input type="text" id="namaVoucher" placeholder="Nama" class="input input-bordered w-full">
          <input type="text" id="hpVoucher" placeholder="Nomor HP" class="input input-bordered w-full">
          <input type="date" id="tanggalVoucher" class="input input-bordered w-full">
          <button type="submit" class="btn btn-success w-full">Tambah Data</button>
        </form>
        <div id="listVoucher" class="mt-4 space-y-2"></div>
      </div>

      <!-- Pelanggan PPPoE -->
      <div id="pppoe" class="tab-content hidden">
        <h2 class="text-2xl font-bold mb-4">Data Pelanggan PPPoE</h2>
        <form onsubmit="handlePPPoESubmit(event)" class="space-y-2">
          <input type="text" id="namaPPPoE" placeholder="Nama" class="input input-bordered w-full">
          <input type="text" id="hpPPPoE" placeholder="Nomor HP" class="input input-bordered w-full">
          <input type="date" id="tanggalPPPoE" class="input input-bordered w-full">
          <button type="submit" class="btn btn-success w-full">Tambah Data</button>
        </form>
        <div id="listPPPoE" class="mt-4 space-y-2"></div>
      </div>

      <!-- Pembayaran -->
      <div id="pembayaran" class="tab-content hidden">
        <h2 class="text-2xl font-bold mb-4">Data Tagihan</h2>
        <form onsubmit="handleTagihanSubmit(event)" class="space-y-2">
          <input type="text" id="namaTagihan" placeholder="Nama Pelanggan" class="input input-bordered w-full">
          <input type="text" id="jumlahTagihan" placeholder="Jumlah Tagihan (Rp)" class="input input-bordered w-full">
          <input type="month" id="bulanTagihan" class="input input-bordered w-full">
          <button type="submit" class="btn btn-success w-full">Tambah Tagihan</button>
        </form>
        <div id="listTagihan" class="mt-4 space-y-2"></div>
      </div>
    </div>
  </div>

  <!-- Firebase Setup -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCoI53ZeXyaOBCOaczkPbHJpWzi0DX4b8g",
      authDomain: "raikicell.firebaseapp.com",
      databaseURL: "https://raikicell-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "raikicell",
      storageBucket: "raikicell.firebasestorage.app",
      messagingSenderId: "648628376778",
      appId: "1:648628376778:web:961ca9084abeeb206bd033",
      measurementId: "G-JG8V2E41XR"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>

  <!-- JS Logic -->
  <script>
    function login() {
      const u = document.getElementById('username').value;
      const p = document.getElementById('password').value;
      if (u === "Raikinet" && p === "Cintawargi1909") {
        localStorage.setItem("loggedIn", "true");
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("mainContent").style.display = "block";
      } else {
        alert("Username atau password salah");
      }
    }

    function logout() {
      localStorage.removeItem("loggedIn");
      location.reload();
    }

    function showTab(id) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
    }

    window.onload = () => {
      if (localStorage.getItem("loggedIn") === "true") {
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("mainContent").style.display = "block";
        showTab('dashboard');
      }
    };

    function handleVoucherSubmit(e) {
      e.preventDefault();
      const nama = document.getElementById('namaVoucher').value;
      const hp = document.getElementById('hpVoucher').value;
      const tanggal = document.getElementById('tanggalVoucher').value;
      document.getElementById('listVoucher').innerHTML += `<div class='card bg-gray-700 p-4 rounded-lg'>${nama} - ${hp} - ${tanggal}</div>`;
    }

    function handlePPPoESubmit(e) {
      e.preventDefault();
      const nama = document.getElementById('namaPPPoE').value;
      const hp = document.getElementById('hpPPPoE').value;
      const tanggal = document.getElementById('tanggalPPPoE').value;
      document.getElementById('listPPPoE').innerHTML += `<div class='card bg-gray-700 p-4 rounded-lg'>${nama} - ${hp} - ${tanggal}</div>`;
    }

    function handleTagihanSubmit(e) {
      e.preventDefault();
      const nama = document.getElementById('namaTagihan').value;
      const jumlah = document.getElementById('jumlahTagihan').value;
      const bulan = document.getElementById('bulanTagihan').value;
      document.getElementById('listTagihan').innerHTML += `<div class='card bg-gray-700 p-4 rounded-lg'>${nama} - Rp${jumlah} - ${bulan}</div>`;
    }
  </script>
</body>
</html>
